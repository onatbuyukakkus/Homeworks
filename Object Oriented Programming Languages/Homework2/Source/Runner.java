//***************************************************************************************************************************************************

import java.util.Date             ;
import java.text.SimpleDateFormat ;

//***************************************************************************************************************************************************




//***************************************************************************************************************************************************

public class Runner
{
  //=================================================================================================================================================

  private static final SimpleDateFormat sdf = new SimpleDateFormat( "HH:mm:ss.SSS " ) ;

  //=================================================================================================================================================

  public static synchronized void logf ( String format , Object ... args )
  {
    System.out.print ( sdf.format( new Date() ) ) ;
    System.out.printf( format , args            ) ;
  }

  //=================================================================================================================================================

  public static void main ( String[] args )
  {
    //-----------------------------------------------------------------------------------------------------------------------------------------------

    if ( args.length == 0 )  { args = new String [] { "1" , "2" , "0.5" } ; }

    //-----------------------------------------------------------------------------------------------------------------------------------------------

    Server server = new Server( "Server  " ) ;

    for ( int i = 0 ; i < args.length ; i++ )
    {
      String name      = String.format     ( "Client%02d" , i+1 ) ;
      double frequency = Double.parseDouble( args[i]            ) ;

      new Client( name , frequency , server ) ;
    }

    //-----------------------------------------------------------------------------------------------------------------------------------------------
  }

  //=================================================================================================================================================
}

//***************************************************************************************************************************************************

